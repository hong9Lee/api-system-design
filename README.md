# 서비스 구성도 
<img width="1561" alt="web_0203" src="https://github.com/hong9Lee/web_security/assets/94272140/20b9b125-00f5-4b78-9871-c0f63d992e44">


## 1. 쿠폰 발급  
목적: 쿠폰 발급 로직을 통해 성능 비교 및 개선   
설계:  
`redis set 자료구조를 이용한 user 중복 체크`  
`redis increment를 이용한 쿠폰 총 발급횟수 제한`  
`kafka를 통한 메시지 produce`

  
#### redis + kafka를 이용한 테스트  
`ngrinder를 통한 성능 테스트 - 100, 1000, 2000명의 유저가 5분동안 트래픽 발생시키는 환경`  

  
|vuser|TPS|최고 TPS|평균 테스트 시간|총 실행 테스트|
|------|---|---|---|--|
|100|2674.1|4,025|37.03ms|791,905|
|1000|2751.7|4,632|362.30ms|811,837|
|2000|2171.5|3,881|913.53ms|639,509|
